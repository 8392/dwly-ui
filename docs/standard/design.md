# 设计规范

## 封装Vue组件的原则及技巧

### 单向数据流

单向数据流是Vue组件一个非常明显的特征，不应该在子组件中直接修改props的值

* 如果传递的prop仅仅用作展示，不涉及修改，则在模板中直接使用即可
* 如果需要对prop的值进行转化然后展示，则应该使用computed计算属性
* 如果prop的值用作初始化，应该定义一个子组件的data属性并将prop作为其初始值

### 组件之间的通信

* 父子组件的关系可以总结为prop 向下传递，事件event向上传递
* 祖先组件和后代组件（跨多代）的数据传递，可以使用provide和inject来实现

::: warning

此外，如果需要跨组件或者兄弟组件之间的通信，可以通过eventBus或者vuex等方式来实现。(慎重使用)
:::

## 封装公共行为

公共方法统一封装到utils/index.js

* 入参简单，命名通俗易懂
* 有返回值，且执行后不影响入参的值
* 复杂参数、逻辑需注释说明

例:

<<<@/standard/examples/function.js

## 常用封装

弹窗表单封装，通常会遇到列表新增、编辑弹窗表单可使用如下方式并配合useForm方法

<<<@/standard/examples/dialogForm.vue